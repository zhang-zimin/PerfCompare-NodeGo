# Node.js vs Go æ€§èƒ½æµ‹è¯• âš¡

è¿™ä¸ªé¡¹ç›®æä¾›äº†å…¨é¢çš„ Node.js å’Œ Go æ€§èƒ½å¯¹æ¯”æµ‹è¯•ï¼ŒåŒ…å«å¤šä¸ªçœŸå®åœºæ™¯çš„åŸºå‡†æµ‹è¯•ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# 1. å®‰è£…ä¾èµ–
npm run install-deps

# 2. è¿è¡Œå®Œæ•´åŸºå‡†æµ‹è¯•
npm run benchmark

# 3. æˆ–è¿è¡Œå•é¡¹æµ‹è¯•
npm run test:cpu        # CPU å¯†é›†å‹æµ‹è¯•
npm run test:file-io    # æ–‡ä»¶ I/O æµ‹è¯•
npm run test:json       # JSON å¤„ç†æµ‹è¯•
```

## ğŸ“Š æµ‹è¯•åœºæ™¯

1. **HTTP æœåŠ¡å™¨æ€§èƒ½æµ‹è¯•** - å¹¶å‘è¯·æ±‚å¤„ç†èƒ½åŠ›
2. **CPU å¯†é›†å‹è®¡ç®—** - æ–æ³¢é‚£å¥‘æ•°åˆ—é€’å½’å’Œè¿­ä»£ç®—æ³•
3. **æ–‡ä»¶ I/O æ“ä½œ** - å¤§å°ä¸åŒæ–‡ä»¶çš„è¯»å†™æ€§èƒ½å’Œå¹¶å‘æ“ä½œ
4. **JSON åºåˆ—åŒ–/ååºåˆ—åŒ–** - ç®€å•åˆ°å¤æ‚æ•°æ®ç»“æ„çš„ JSON å¤„ç†

## ğŸ› ï¸ ç¯å¢ƒå‡†å¤‡

### å¿…éœ€è½¯ä»¶
- **Node.js** (v18+ æ¨è) - [ä¸‹è½½](https://nodejs.org/)
- **Go** (v1.21+ æ¨è) - [ä¸‹è½½](https://golang.org/dl/)

## ğŸ“ˆ æ€§èƒ½æµ‹è¯•å‘½ä»¤

### å®Œæ•´åŸºå‡†æµ‹è¯•
```bash
npm run benchmark       # è¿è¡Œæ‰€æœ‰å¯¹æ¯”æµ‹è¯•
```

### å•é¡¹æµ‹è¯•
```bash
# CPU å¯†é›†å‹è®¡ç®—å¯¹æ¯”
npm run test:cpu

# æ–‡ä»¶ I/O æ€§èƒ½å¯¹æ¯”  
npm run test:file-io

# JSON å¤„ç†æ€§èƒ½å¯¹æ¯”
npm run test:json

# HTTP æœåŠ¡å™¨æµ‹è¯• (éœ€è¦æ‰‹åŠ¨å¯åŠ¨æœåŠ¡å™¨)
npm run test:http
```

### å•ç‹¬è¿è¡Œ Node.js æµ‹è¯•
```bash
npm run node:cpu        # CPU æµ‹è¯•
npm run node:fileio     # æ–‡ä»¶ I/O æµ‹è¯•
npm run node:json       # JSON æµ‹è¯•
```

### å•ç‹¬è¿è¡Œ Go æµ‹è¯•  
```bash
npm run go:cpu          # CPU æµ‹è¯•
npm run go:fileio       # æ–‡ä»¶ I/O æµ‹è¯•
npm run go:json         # JSON æµ‹è¯•
```

### HTTP æœåŠ¡å™¨æµ‹è¯•
```bash
# å¯åŠ¨æœåŠ¡å™¨ (é€‰æ‹©ä¸€ä¸ª)
npm run start:node-server  # Node.js æœåŠ¡å™¨ (ç«¯å£ 3000)
npm run start:go-server    # Go æœåŠ¡å™¨ (ç«¯å£ 3001)

# æµ‹è¯•ç«¯ç‚¹
curl http://localhost:3000/health  # Node.js
curl http://localhost:3001/health  # Go
```

## ğŸ¯ åˆæ­¥æ€§èƒ½ç»“æœ

åŸºäºå¼€å‘ç¯å¢ƒçš„åˆæ­¥æµ‹è¯•ç»“æœï¼š

### CPU å¯†é›†å‹è®¡ç®— (æ–æ³¢é‚£å¥‘ n=40, é€’å½’)
- **Go**: ~510ms
- **Node.js**: ~1067ms  
- **ç»“æœ**: Go æ¯” Node.js å¿« **2.1x**

### CPU å¯†é›†å‹è®¡ç®— (æ–æ³¢é‚£å¥‘ n=40, è¿­ä»£)
- **Go**: <1ms
- **Node.js**: <1ms
- **ç»“æœ**: ä¸¤è€…éƒ½æå¿«ï¼Œæ€§èƒ½ç›¸è¿‘

### å†…å­˜ä½¿ç”¨
- **Go**: ç¼–è¯‘åäºŒè¿›åˆ¶å°ï¼Œå¯åŠ¨å¿«ï¼Œå†…å­˜å ç”¨ä½
- **Node.js**: V8 å¼•æ“ä¼˜åŒ–å¥½ï¼Œä½†å¯åŠ¨å†…å­˜å ç”¨è¾ƒé«˜


## ğŸ” æµ‹è¯•è¯¦æƒ…

### CPU å¯†é›†å‹æµ‹è¯•
- **é€’å½’æ–æ³¢é‚£å¥‘**: æµ‹è¯•çº¯è®¡ç®—æ€§èƒ½å’Œå‡½æ•°è°ƒç”¨å¼€é”€
- **è¿­ä»£æ–æ³¢é‚£å¥‘**: æµ‹è¯•å¾ªç¯ä¼˜åŒ–å’Œæ•°å€¼è®¡ç®—æ•ˆç‡
- **å¤§æ•°è®¡ç®—**: æµ‹è¯•å¤§æ•´æ•°å¤„ç†èƒ½åŠ› (1000, 5000, 10000)

### æ–‡ä»¶ I/O æµ‹è¯•
- **é¡ºåºè¯»å†™**: ä¸åŒå¤§å°æ–‡ä»¶çš„è¯»å†™æ€§èƒ½ (1K, 10K, 100K è¡Œ)
- **å¹¶å‘æ“ä½œ**: å¤šæ–‡ä»¶åŒæ—¶è¯»å†™çš„å¹¶å‘å¤„ç†èƒ½åŠ›
- **ç¼“å­˜æ•ˆåº”**: é‡å¤è¯»å–åŒä¸€æ–‡ä»¶çš„ç¼“å­˜ä¼˜åŒ–

### JSON å¤„ç†æµ‹è¯•
- **ç®€å•ç»“æ„**: åŸºç¡€å¯¹è±¡åºåˆ—åŒ–/ååºåˆ—åŒ–
- **ä¸­ç­‰å¤æ‚**: åµŒå¥—å¯¹è±¡å’Œæ•°ç»„å¤„ç† (100 é¡¹)
- **å¤æ‚ç»“æ„**: æ·±åº¦åµŒå¥—å’Œå¤§æ•°æ®é‡å¤„ç† (1000 ç”¨æˆ·, 50 æ´»åŠ¨è®°å½•)

### HTTP æœåŠ¡å™¨æµ‹è¯•
- **ç®€å•å“åº”**: çº¯æ–‡æœ¬å’Œ JSON å“åº”é€Ÿåº¦
- **CPU ä»»åŠ¡**: æœåŠ¡å™¨ç«¯æ–æ³¢é‚£å¥‘è®¡ç®—
- **æ•°æ®å¤„ç†**: POST æ•°æ®çš„è§£æå’Œå¤„ç†
- **å¹¶å‘è´Ÿè½½**: å¤šå®¢æˆ·ç«¯å¹¶å‘è¯·æ±‚å¤„ç†
